<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>侧边栏</title>
    <script src="../../lib/jquery.min.js"></script>
</head>
<body>
<div class="menu"></div>
<script type="text/javascript">
    var URL = location.href;
    var role = URL.match(/(\?|&&)+?role=[1-4]+/g)[0].split('=')[1];
    var account = URL.match(/(\?|&&)+?account=[A-Za-z0-9]+/g)[0].split('=')[1];
    var resources = URL.match(/(\?|&&)+?resource=[A-Za-z0-9_]+/g)[0].split('=')[1];
    switch (role) {
        case '1':
            $('.menu').html(`<div onclick="jumpInto('params')" class="params" style="width: 100%; height: 95px; background: #3F434F; border-bottom: 1px solid #40434e; display: flex; flex-wrap: wrap; align-items: center; cursor: pointer;"><div style="width: 100%;"><p class="menu_icon_img" style="width: 100%; text-align: center;"><img src="../images/mine_pre.png" /></p>
<p style="width: 100%; text-align: center; font-size: 14px; color: #8C91A0; margin-top: 5px;">参数配置</p></div></div>
<div onclick="jumpInto('admin')" class="admin" style="width: 100%; height: 95px; background: #3F434F; border-bottom: 1px solid #40434e; border-top: 1px solid #353843; display: flex; flex-wrap: wrap; align-items: center; cursor: pointer;"><div style="width: 100%;"><p class="menu_icon_img" style="width: 100%; text-align: center;"><img src="../images/home_pre.png" /></p>
<p style="width: 100%; text-align: center; font-size: 14px; color: #8C91A0; margin-top: 5px;">用户管理</p></div></div>`);
            if (resources === 'params') {
                $('.params').css('background', '#323743');
                $('.params p').css('color', '#C3C8D4');
                $('.params i').css('color', '#C3C8D4');
                $('.params .menu_icon_img').html('<img src="../images/mine_after.png" />');
            } else {
                $('.admin').css('background', '#323743');
                $('.admin p').css('color', '#C3C8D4');
                $('.admin i').css('color', '#C3C8D4');
                $('.admin .menu_icon_img').html('<img src="../images/home_after.png" />');
            }
            break;
        case '2':
            $('.menu').html(`<div onclick="jumpInto('orders')" class="orders" style="width: 100%; height: 95px; background: #3F434F; border-bottom: 1px solid #40434e; display: flex; flex-wrap: wrap; align-items: center; cursor: pointer;"><div style="width: 100%;"><p class="menu_icon_img" style="width: 100%; text-align: center;"><img src="../images/home_pre.png" /></p>
<p style="width: 100%; text-align: center; font-size: 14px; color: #8C91A0; margin-top: 5px;">订单管理</p></div></div>`);
            $('.orders').css('background', '#323743');
            $('.orders p').css('color', '#C3C8D4');
            $('.orders i').css('color', '#C3C8D4');
            $('.orders .menu_icon_img').html('<img src="../images/home_after.png" />');
            break;
        default:
            $('.menu').html(`</div><div onclick="jumpInto('market')" class="market" style="width: 100%; height: 95px; background: #3F434F; border-bottom: 1px solid #40434e; display: flex; flex-wrap: wrap; align-items: center; cursor: pointer;"><div style="width: 100%;"><p class="menu_icon_img" style="width: 100%; text-align: center;"><img src="../images/market_pre.png" /></p>
                <p style="width: 100%; font-size: 14px; color: #8C91A0; text-align: center; margin-top: 5px;">大盘市场</p></div></div>
                <div onclick="jumpInto('mine')" class="mine" style="width: 100%; height: 95px; background: #3F434F; border-top: 1px solid #353843; display: flex; flex-wrap: wrap; align-items: center; cursor: pointer;"><div style="width: 100%;"><p class="menu_icon_img" style="width: 100%; text-align: center;"><img src="../images/home_pre.png" /></p>
                <p style="width: 100%; font-size: 14px; color: #8C91A0; text-align: center; margin-top: 5px;">我的</p></div></div>`);
            if (resources === 'market') {
                $('.market').css('background', '#323743');
                $('.market p').css('color', '#C3C8D4');
                $('.market i').css('color', '#C3C8D4');
                $('.market .menu_icon_img').html('<img src="../images/market_after.png" />');
            } else {
                $('.mine').css('background', '#323743');
                $('.mine p').css('color', '#C3C8D4');
                $('.mine i').css('color', '#C3C8D4');
                $('.mine .menu_icon_img').html('<img src="../images/home_after.png" />');
            }
    }

    function jumpInto(str) {
        console.log('接口请求判定该用户的登陆信息是否已过期，若过期，重新登陆');
        window.location.href = `backend.html?role=${role}&&account=${account}&&resource=${str}`;
    }
</script>
</body>
</html>